<html>
	<head>
		<title>Whitespace Help</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<style>
		#back, #back_bottom {
			border: outset;
			color: white;
			padding: 10px 12px;
			text-align: center;
			font-size: 20px;
		}
		#back:active, #back_bottom:active {
			border: inset;
		}
		#back {
			background-color: red;
			border-color: #F55;
			position: fixed;
			left: 0;
			top: 0;
		}
		#back_bottom {
			background-color: blue;
			border-color: #22F;
		}
		#title {
			padding-left: 48px
		}
		</style>
	</head>
	<body>
		<button onclick="window.history.back()" id="back"><i class="material-icons">arrow_back</i></button>
		<h1 id="title">Whitespace Help</h1>
		A command is formed like CATEGORY.COMMAND [argument]. [Argument] can be either a number, positive or negative, or a single character, formed like '[char]'.
		<h2>Stack Modification (MOD)</h2>
		<ul>
			<li>PUSH [n]: Put [n] on the stack.</li>
			<li>DUPE: Duplicate the top item on the stack.</li>
			<li>COPY [n]: Copy the [n]th item on the stack on top of the stack.</li>
			<li>SWAP: Swap the top two items on the stack.</li>
			<li>POP: Discard the top item on the stack.</li>
			<li>SLDE [n]: Slide [n] items off the stack, keeping the top item.</li>
		</ul>
		<h2>Arithmetic (MATH)</h2>
		Arithmetic commands operate on the top two items on the stack, and replace them with the result of the operation. The first item pushed is considered to be left of the operator.
		<ul>
			<li>ADD: Addition.</li>
			<li>SUB: Subtraction.</li>
			<li>MULT: Multiplication.</li>
			<li>DIV: Integer division.</li>
			<li>MOD: Modulo.</li>
		</ul>
		<h2>Heap Access (HEAP)</h2>
		Heap access commands look at the stack to find the address of items to be stored or retrieved. To store an item, push the address then the value and run the store command. To retrieve an item, push the address and run the retrieve command, which will place the value stored in the location at the top of the stack.
		<ul>
			<li>STOR: Store.</li>
			<li>RET: Retrieve.</li>
		</ul>
		<h2>Flow Control (FLOW)</h2>
		<ul>
			<li>LABL [l]: Mark a location [l] in the program.</li>
			<li>SUB [l]: Call a subroutine at [l]</li>
			<li>JUMP [l]: Jump to LABL [l]</li>
			<li>JMPZ [l]: Jump to LABL [l] if the top of the stack is zero.</li>
			<li>JMPN [l]: Jump to LABL [l] if the top of the stack is negative.</li>
			<li>RET: End a subroutine.</li>
			<li>HALT: End the program.</li>
		</ul>
		<h2>I/O (IO)</h2>
		The IN & NIN instructions take the heap address in which to store the result from the top of the stack.
		<ul>
			<li>OUT: Output the character at the top of the stack.</li>
			<li>NOUT: Output the number at the top of the stack.</li>
			<li>IN: Read a character and place it in the heap.</li>
			<li>NIN: Read a number and place it in the heap.</li>
		</ul>
		<b>Note: </b>Programs must be ended by means of FLOW.HALT so that the interpreter can exit cleanly.
		<h1>Annotated Example</h1>
		This program counts from 1 to 10, outputting the current value as it goes.<br><br>
		<style>
		code {width: 10em; color: red; text-decoration: underline blue;}
		table {font-size: 20px;}
		</style>
		<table>
			<tr><td style="width: 10em"><code>MOD.PUSH 1</code></td><td>Put a 1 on the stack.<br></td></tr>
			<tr><td><code>FLOW.LABL 0</code></td><td>Mark the start of the program.<br></td></tr>
			<tr><td><code>MOD.DUPE</code></td><td>Duplicate the top of the stack.<br></td></tr>
			<tr><td><code>IO.NOUT</code></td><td>Output the number on top of the stack<br></td></tr>
			<tr><td><code>MOD.PUSH 10</code></td><td>Push 10 (newline)...<br></td></tr>
			<tr><td><code>IO.OUT</code></td><td>...and print it out.<br></td></tr>
			<tr><td><code>MOD.PUSH 1</code></td><td>Push a 1...<br></td></tr>
			<tr><td><code>MATH.ADD</code></td><td>...and add it.<br></td></tr>
			<tr><td><code>MOD.DUPE</code></td><td>Duplicate.<br></td></tr>
			<tr><td><code>MOD.PUSH 11</code></td><td>Push 11...<br></td></tr>
			<tr><td><code>MATH.SUB</code></td><td>...and subtract it.<br></td></tr>
			<tr><td><code>FLOW.JMPZ 1</code></td><td>If the top is 0 (if we've counted to 10), jump to the end label.<br></td></tr>
			<tr><td><code>FLOW.JUMP 0</code></td><td>Otherwise, jump to the start.<br></td></tr>
			<tr><td><code>FLOW.LABL 1</code></td><td>Mark the end.<br></td></tr>
			<tr><td><code>MOD.POP</code></td><td>Remove our counter (just to be tidy).<br></td></tr>
			<tr><td><code>FLOW.HALT</code></td><td>End the program.</td></tr>
		</table>
		<button onclick="window.history.back()" id="back_bottom"><i class="material-icons">arrow_back</i> Back to Compiler</button>
	</body>
</html>
